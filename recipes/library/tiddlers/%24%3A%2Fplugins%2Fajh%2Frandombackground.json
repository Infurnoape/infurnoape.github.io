{
    "title": "$:/plugins/ajh/randombackground",
    "type": "application/json",
    "author": "Andrew",
    "core-version": ">=5.1.11",
    "dependents": "$:/plugins/ajh/randombackground/background0 $:/plugins/ajh/randombackground/icon $:/plugins/ajh/randombackground/readme $:/plugins/ajh/randombackground/stylesheet $:/plugins/ajh/randombackground/random.js",
    "description": "Random Background",
    "list": "readme",
    "plugin-type": "plugin",
    "source": "https://github.com/Infurnoape/infurnoape.github.io/blob/master/recipes/library/tiddlers/%2524%253A%252Fplugins%252Fajh%252Frandombackground.json",
    "version": "0.1.2",
    "text": "{\n    \"tiddlers\": {\n        \"$:/plugins/ajh/randombackground/background0\": {\n            \"text\": \"\",\n            \"type\": \"image/jpeg\",\n            \"title\": \"$:/plugins/ajh/randombackground/background0\",\n            \"tags\": \"$:/tags/image\",\n            \"size\": \"cover\",\n            \"_canonical_uri\": \"http://i1382.photobucket.com/albums/ah241/infurnoape/Magic-Rainbow-Explosion_zpsvctv78v5.jpg\"\n        },\n        \"$:/plugins/ajh/randombackground/icon\": {\n            \"text\": \"<svg class='tc-image-tiddlyviewer ic-image-button' width='22pt' height='22pt' viewBox='0 0 128 128'>\\n <defs>\\n  <linearGradient id='redyel' gradientUnits='objectBoundingBox' x1='0' y1='0' x2='1' y2='1'>\\n   <stop offset='0%' stop-color='#f00'/>\\n   <stop offset='100%' stop-color='#ff0'/>\\n  </linearGradient>\\n  <linearGradient id='yelgre' gradientUnits='objectBoundingBox' x1='0' y1='0' x2='0' y2='1'>\\n   <stop offset='0%' stop-color='#ff0'/>\\n   <stop offset='100%' stop-color='#0f0'/>\\n  </linearGradient>\\n  <linearGradient id='grecya' gradientUnits='objectBoundingBox' x1='1' y1='0' x2='0' y2='1'>\\n   <stop offset='0%' stop-color='#0f0'/>\\n   <stop offset='100%' stop-color='#0ff'/>\\n  </linearGradient>\\n  <linearGradient id='cyablu' gradientUnits='objectBoundingBox' x1='1' y1='1' x2='0' y2='0'>\\n   <stop offset='0%' stop-color='#0ff'/>\\n   <stop offset='100%' stop-color='#00f'/>\\n  </linearGradient>\\n  <linearGradient id='blumag' gradientUnits='objectBoundingBox' x1='0' y1='1' x2='0' y2='0'>\\n   <stop offset='0%' stop-color='#00f'/>\\n   <stop offset='100%' stop-color='#f0f'/>\\n  </linearGradient>\\n  <linearGradient id='magred' gradientUnits='objectBoundingBox' x1='0' y1='1' x2='1' y2='0'>\\n   <stop offset='0%' stop-color='#f0f'/>\\n   <stop offset='100%' stop-color='#f00'/>\\n  </linearGradient>\\n        <clipPath id='myClip'>\\n<path d='m9,34.6l55,-32l55,32v57.5l-55,32l-55,-32v-57.5z'/>\\n        </clipPath>\\n </defs>\\n </defs>\\n  <g fill='none' stroke-width='64' clip-path='url(#myClip)'>\\n   <path d='m63.9,31.5a32.1,32 0 0 1 27.8,16' stroke='url(#redyel)'/>\\n   <path d='m91.7,47.5a32.1,32 0 0 1 0,32' stroke='url(#yelgre)'/>\\n   <path d='m91.7,79.5a32.1,32 0 0 1 -27.8,16' stroke='url(#grecya)'/>\\n   <path d='m63.9,95.5a32.1,32 0 0 1 -27.8,-16' stroke='url(#cyablu)'/>\\n   <path d='m36.2,79.5a32.1,32 0 0 1 0,-32' stroke='url(#blumag)'/>\\n   <path d='m36.2,47.5a32.1,32 0 0 1 27.8,-16' stroke='url(#magred)'/>\\n </g>\\n  <path d='m9,34.6l55,-32l55,32v57.5l-55,32l-55,-32v-57.5z' stroke-width='5' stroke='#000' fill='none'/>\\n</svg>\",\n            \"title\": \"$:/plugins/ajh/randombackground/icon\",\n            \"tags\": \"$:/tags/Image\"\n        },\n        \"$:/plugins/ajh/randombackground/readme\": {\n            \"text\": \"This plugin replaces the page background image with a random one upon each refresh. Name the background tiddlers ~$:/plugins/ajh/randombackground/background# where # is a whole number between 0 and what is in ~$:/info/max-random. For example: ~$:/plugins/ajh/randombackground/background0, ~$:/plugins/ajh/randombackground/background1, ~$:/plugins/ajh/randombackground/background2, etc.\\n\\nAdd the ''attachment'' field with value of ''fixed'' or ''scroll'' and/or the ''size'' field with value of ''auto'', ''cover'', or ''contain'' for each background individually and it will supersede the global setting for that background.\\n\\nSimply drag $:/plugins/ajh/randombackground to the top of your tiddlywiki display, save and reload. Then add as many backgrounds as you would like.\\n\\nThis plugin comprises:\\n\\n* JavaScript code module\\n* Stylesheet\\n* Default background\",\n            \"title\": \"$:/plugins/ajh/randombackground/readme\"\n        },\n        \"$:/plugins/ajh/randombackground/stylesheet\": {\n            \"text\": \"\\\\define random-background-datauri()\\n<$set name='background' value={{$:/temp/random}}>\\n<$list filter='[<background>is[image]]'>\\n`background: url(`\\n<$list filter='[<background>!has[_canonical_uri]]'>\\n<$macrocall $name='datauri' title={{$:/temp/random}}/>\\n</$list>\\n<$list filter='[<background>has[_canonical_uri]]'>\\n<$view tiddler={{$:/temp/random}} field='_canonical_uri'/>\\n</$list>\\n`) center center;`\\n`background-attachment: `{{$:/temp/random!!attachment}}`;\\n-webkit-background-size:` {{$:/temp/random!!size}}`;\\n-moz-background-size:` {{$:/temp/random!!size}}`;\\n-o-background-size:` {{$:/temp/random!!size}}`;\\nbackground-size:` {{$:/temp/random!!size}}`;`\\n</$list>\\n</$set>\\n\\\\end\\n\\nbody.tc-body {\\n\\t<<random-background-datauri>>\\n}\",\n            \"title\": \"$:/plugins/ajh/randombackground/stylesheet\",\n            \"tags\": \"$:/tags/Stylesheet\"\n        },\n        \"$:/plugins/ajh/randombackground/random.js\": {\n            \"text\": \"/*\\\\\\ntitle: $:/plugins/ajh/randombackground/random.js\\ntype: application/javascript\\nmodule-type: startup\\n\\nSetup the root widget to update $:/temp/random with the tiddler title that has the path to the background.\\n\\n\\\\*/\\n(function () {\\n\\n/*jslint node: true, browser: true */\\n/*global $tw: false */\\n'use strict';\\n\\n// Export name and synchronous status\\nexports.name = 'random';\\nexports.after = ['startup'];\\nexports.before = ['rootwidget'];\\nexports.synchronous = true;\\n\\nexports.startup = function() {\\n    var bg=$tw.wiki.getTiddlerText('$:/info/background')||'$:/plugins/ajh/randombackground/background';\\n    var max=$tw.wiki.getTiddlerText('$:/info/max-random')||0;\\n    var min=$tw.wiki.getTiddlerText('$:/info/min-random')||0;\\n    var t=bg+((Math.floor(Math.random() * (max - min + 1)) + min).toString());\\n    var tiddler=$tw.wiki.getTiddler(t);\\n    var ba=tiddler.fields['attachment']||$tw.wiki.getTiddlerText('$:/themes/tiddlywiki/vanilla/settings/backgroundimageattachment');\\n    var bs=tiddler.fields['size']||$tw.wiki.getTiddlerText('$:/themes/tiddlywiki/vanilla/settings/backgroundimagesize');\\n    $tw.wiki.addTiddler(new $tw.Tiddler({title: '$:/temp/random', text: t,  attachment: ba, size: bs}));\\n};\\n\\n})();\",\n            \"type\": \"application/javascript\",\n            \"title\": \"$:/plugins/ajh/randombackground/random.js\",\n            \"module-type\": \"startup\"\n        }\n    }\n}"
}

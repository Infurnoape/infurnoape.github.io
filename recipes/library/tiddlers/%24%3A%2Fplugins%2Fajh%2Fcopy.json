{
    "title": "$:/plugins/ajh/copy",
    "author": "Andrew",
    "core-version": ">=5.1.11",
    "dependents": "$:/copy $:/language/Buttons/Copy/Caption $:/language/Buttons/Copy/Hint $:/language/Buttons/Copy/Notification $:/plugins/ajh/copy/copy.js $:/plugins/ajh/copy/icon $:/plugins/ajh/copy/images $:/plugins/ajh/copy/readme $:/plugins/ajh/copy/stylesheet",
    "description": "Copy Button",
    "list": "readme",
    "plugin-type": "plugin",
    "source": "https://github.com/infurnoape/tw5-plugins",
    "version": "0.0.22",
    "type": "application/json",
    "text": "{\n    \"tiddlers\": {\n        \"$:/language/Buttons/Copy/Caption\": {\\n            \\\"text\\\": \\\"copy\\\",\\r\\n            \\\"title\\\": \\\"$:/language/Buttons/Copy/Caption\\\"\\r\\n        },\\r\\n        \\\"$:/language/Buttons/Copy/Hint\\\": {\\r\\n            \\\"text\\\": \\\"Copy to the clipboard\\\",\\r\\n            \\\"title\\\": \\\"$:/language/Buttons/Copy/Hint\\\"\\r\\n        },\\r\\n        \\\"$:/language/Buttons/Copy/Notification\\\": {\\r\\n            \\\"text\\\": \\\"Copied\\\",\\r\\n            \\\"title\\\": \\\"$:/language/Buttons/Copy/Notification\\\"\\r\\n        },\\r\\n        \\\"$:/plugins/ajh/copy/copy.js\\\": {\\r\\n            \\\"text\\\": \\\"/*\\\\\\\\\\\\n$:/plugins/ajh/copy/copy.js\\\\ntype: application/javascript\\\\nmodule-type: startup\\\\n\\\\nSetup the root widget handler that can be used to copy transcluded tiddler to the Clipboard.\\\\n\\\\n<span id='TiddlerTitle'><$transclude tiddler='TiddlerTitle'/></span>&nbsp;<$button param='TiddlerTitle' message='tm-copy'>COPY</$button>\\\\n\\\\n\\\\\\\\*/\\\\n(function () {\\\\n\\\\n/*jslint node: true, browser: true */\\\\n/*global $tw: false */\\\\n'use strict';\\\\n\\\\n// Export name and synchronous status\\\\nexports.name = 'copy';\\\\nexports.platforms = ['browser'];\\\\nexports.after = ['rootwidget'];\\\\nexports.synchronous = true;\\\\n\\\\nexports.startup = function () {\\\\n    // Install the tiddler copy message mechanism\\\\n    $tw.rootWidget.addEventListener('tm-copy', function (event) {\\\\n        if (event) {  \\\\n            try {\\\\n                var copyDiv = document.getElementById(event.param);\\\\n                copyDiv.contentEditable = true;\\\\n                copyDiv.focus();\\\\n                document.execCommand('SelectAll',false,null);\\\\n                document.execCommand('Copy', false, null);\\\\n                document.execCommand('Unselect');\\\\n                copyDiv.blur();\\\\n                return;\\\\n            } catch(e) {\\\\n            // Rethrow exception if it's not a SecurityError. Note that SecurityError\\\\n            // exception is specific to Firefox.\\\\n            if(e.name !== 'SecurityError')\\\\n                throw e;\\\\n                alert('Feature not available in older browsers!');\\\\n                return;\\\\n            }\\\\n        }\\\\n    });\\\\n};\\\\n\\\\n})();\\\",\\r\\n            \\\"type\\\": \\\"application/javascript\\\",\\r\\n            \\\"title\\\": \\\"$:/plugins/ajh/copy/copy.js\\\",\\r\\n            \\\"module-type\\\": \\\"startup\\\"\\r\\n        },\\r\\n        \\\"$:/plugins/ajh/copy/images\\\": {\\r\\n            \\\"text\\\": \\\"<svg class='tc-image-copy tc-image-button' width='22pt' height='22pt' viewBox='0 0 128 128'><path d='m75,16.2a19,16 0 0 0 -38,0h-28.8a8,8 0 0 0 -8,8v95.6a8,8 0 0 0 8,8h95.6a8,8 0 0 0 8,-8v-15.8h-8v15.8h-95.6v-71.6h95.6v23.8h8v-47.8a8,8 0 0 0 -8,-8h-28.8zm-8,3c2,18 19,2 21,21h-64c2,-19 19,-3 21,-21a11,11 0 0 1 22,0zm12.8,44.8l-32,24l32,24v-16h40a8,8 0 0 0 0,-16h-40v-16zm-15.8,0h-48v-8h48v8zm-20,16h-28v-8h28v8zm-4,16h-24v-8h24v8zm16,16h-40v-8h40v8z'/></svg>\\\",\\r\\n            \\\"title\\\": \\\"$:/plugins/ajh/copy/images\\\",\\r\\n            \\\"tags\\\": \\\"$:/tags/image\\\"\\r\\n        },\\r\\n        \\\"$:/plugins/ajh/copy/readme\\\": {\\r\\n            \\\"text\\\": \\\"This plugin button can copy the transcluded contents of a tiddler to the Clipboard. It can be called by transcluding a tiddler and using the `$:/copy` template. Example usage: `{{Tiddler title to transclude||$:/copy}}`.\\\\n\\\\nSimply drag $:/plugins/ajh/copy to the top of your tiddlywiki display, save and reload.\\\\n\\\\nThis plugin comprises:\\\\n\\\\n* JavaScript code module\\\\n* Icon\\\\n* Template\\\\n* Stylesheet\\\\n* Caption, hint, and notification\\\",\\r\\n            \\\"title\\\": \\\"$:/plugins/ajh/copy/readme\\\"\\r\\n        },\\r\\n        \\\"$:/plugins/ajh/copy/stylesheet\\\": {\\r\\n            \\\"text\\\": \\\"html .tc-copy-button button svg {\\\\n    height: 1.4em;\\\\n    width: 1.4em;\\\\n}\\\\n\\\\n.tc-copy-button {\\\\n    fill                : #ccc;\\\\n}\\\\n\\\\n.tc-copy-button:hover {\\\\n    fill                : #888 !important;\\\\n}\\\",\\r\\n            \\\"title\\\": \\\"$:/plugins/ajh/copy/stylesheet\\\",\\r\\n            \\\"tags\\\": \\\"$:/tags/Stylesheet\\\"\\r\\n        },\\r\\n        \\\"$:/plugins/ajh/copy/icon\\\": {\\r\\n            \\\"text\\\": \\\"<svg class='tc-image-copy tc-image-button' width='22pt' height='22pt' viewBox='0 0 192 192'><path fill='#0ff' stroke='#30f' stroke-width='7.5' d='m13.5,52.2l82.5,-48l82.5,48v87.3l-82.5,48l-82.5,-48v-87.3z'/><path fill='#000' d='m115,40a19,16 0 0 0 -38,0h-28.8a8,8 0 0 0 -8,8v95.6a8,8 0 0 0 8,8h95.6a8,8 0 0 0 8,-8v-15.8h-8v15.8h-95.6v-71.6h95.6v23.8h8v-47.8a8,8 0 0 0 -8,-8h-28.8zm-8,3c2,18 19,2 21,21h-64c2,-19 19,-3 21,-21a11,11 0 0 1 22,0zm12.8,44.8l-32,24l32,24v-16h40a8,8 0 0 0 0,-16h-40v-16zm-15.8,0h-48v-8h48v8zm-20,16h-28v-8h28v8zm-4,16h-24v-8h24v8zm16,16h-40v-8h40v8z'/></svg>\\\",\\r\\n            \\\"title\\\": \\\"$:/plugins/ajh/copy/icon\\\",\\r\\n            \\\"tags\\\": \\\"$:/tags/Image\\\"\\r\\n        },\\r\\n        \\\"$:/copy\\\": {\\r\\n            \\\"text\\\": \\\"<span id={{!!title}}><$transclude tiddler={{!!title}}/></span> <span class='tc-copy-button'><$button param={{!!title}} message='tm-copy' tooltip={{$:/language/Buttons/Copy/Hint}} aria-label={{$:/language/Buttons/Copy/Caption}} class='tc-btn-invisible'><$action-sendmessage $message='tm-notify' $param='$:/language/Buttons/Copy/Notification'/>{{$:/plugins/ajh/copy/images}}</$button></span>\\\",\\r\\n            \\\"title\\\": \\\"$:/copy\\\"\\r\\n        }\\r\\n    }\\r\\n}\"\n        }\n    }\n}"
}
